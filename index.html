<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors Project</title>
    </head>
    <body>
        <header>
            <h1>Rock, Paper, Scissors</h1> 
        </header>

        <div id="scoreBoard">
            <div>Player</div>
                <span id="playerScore">0</span>:<span id="computerScore">0</span>
        
            <div>Computer</div>
        </div>

        <div id="gameText">
            Click a button below to make your selection
        </div>


        <div id="selectionButtons">
        <button type="button" class="selection" data-key="rock">rock</button>
        <button type="button" class="selection" data-key="paper">paper</button>
        <button type="button" class="selection" data-key="scissors">scissors</button>
        </div>


        <script>
            let computerScore = 0;
            let playerScore = 0;

            function endGame() {
                const buttons = document.querySelectorAll('button');
                buttons.forEach(button => {
                    button.disabled = true;
                })

                const gameText = document.querySelector('#gameText');
                const endSummary = document.createElement('p')

                if (playerScore > computerScore) {
                    endSummary.textContent = `You won the game ${playerScore}:${computerScore}`;
                }
                else {
                    endSummary.textContent = `You lost the game ${playerScore}:${computerScore}`;
                }

                gameText.appendChild(endSummary);
            }

            function updateScore() {
                document.querySelector('#playerScore').textContent = playerScore;
                document.querySelector('#computerScore').textContent = computerScore;
                
                if (playerScore == 5 || computerScore == 5)
                endGame();
            }

            //computer's Selection
            function computerPlay() {
                let computerChoice = ['rock', 'paper', 'scissors'];
                return computerChoice[Math.floor(Math.random() * computerChoice.length)]
            }
            
            function playRound() {
                let playerSelection = this.dataset.key;
                let computerSelection = computerPlay();
                const gameText = document.querySelector('#gameText');

                switch(playerSelection + computerSelection){
                    case "rockscissors":
                    case "paperrock":
                    case "scissorspaper":
                        gameText.textContent = `You win! ${playerSelection} beats ${computerSelection}`;
                        playerScore++;
                        break;
        
                    case "rockrock":
                    case "paperpaper":
                    case "scissorsscissors":
                        gameText.textContent = `It's a draw. You both chose ${computerSelection}`;
                        break;
        
                    case "rockpaper":
                    case "paperscissors":
                    case "scissorsrock":
                        gameText.textContent = `You lose! ${playerSelection} loses to ${computerSelection}`;
                        computerScore++;
                        break;
                }
                updateScore();
            }
            
            const selectionButtons = document.querySelectorAll('.selection');
            selectionButtons.forEach(button => {
                button.addEventListener('click', playRound);
            })
        </script>




    </body>
</html>